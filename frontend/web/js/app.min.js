!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".header"),s=1;function o(){var e=window.scrollY;e>140&&s?(s=0,t.classList.add("scroll"),document.body.classList.add("scr")):e<=100&&!s&&(s=1,t.classList.remove("scroll"),document.body.classList.remove("scr"))}o(),window.addEventListener("scroll",(function(e){o()})),document.querySelector("#form").addEventListener("submit",e);new Swiper(".photo-swiper",{slidesPerView:"auto",centeredSlides:!0,spaceBetween:35,loop:!0,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".districts-swiper",{slidesPerView:3,spaceBetween:35,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".districts-swiper-button-next",prevEl:".districts-swiper-button-prev"},breakpoints:{1024:{slidesPerView:3},768:{slidesPerView:2},300:{slidesPerView:1}}}),new Swiper(".projects-swiper",{slidesPerView:3,spaceBetween:35,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".projects-swiper-button-next",prevEl:".projects-swiper-button-prev"},breakpoints:{1024:{slidesPerView:3},768:{slidesPerView:2},300:{slidesPerView:1}}}),new Swiper(".experts-swiper",{slidesPerView:3,spaceBetween:35,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".districts-swiper-button-next",prevEl:".districts-swiper-button-prev"},breakpoints:{1024:{slidesPerView:3},768:{slidesPerView:2},300:{slidesPerView:1}}});var i=document.getElementById("chart").getContext("2d"),n=i.createLinearGradient(0,0,0,500);n.addColorStop(0,"rgba(0, 0, 255, 0.9)"),n.addColorStop(.7,"rgba(0, 255, 255, 0.0)");var r=new Chart(i,{type:"line",data:{labels:["2018/1","2018/2","2018/3","2018/4","2019/1","2019/2","2019/3","2019/4","2020/1","2020/2","2020/3","2020/4","2021/1","2021/2","2021/3","2021/4","2022/1","2022/2","2022/3","2022/4","2023/1","2023/2"],datasets:[{data:[200,200,230,220,250,280,280,300,330,370,330,330,350,400,450,450,490,670,700,720,730,750],borderColor:"rgba(0, 0, 255, 0.8)",borderWidth:.4,pointRadius:.1,pointHoverRadius:.1,fill:!0,backgroundColor:n,tension:.4}]},options:{tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},plugins:{tooltip:{callbacks:{label:function(e){return"Value: "+e.parsed.y}}},filler:{propagate:!1},title:{display:!0,text:function(e){return"Fill: 5484"}}},animation:{duration:1e3,easing:"linear"}}}),a=r.canvas;a.width=a.offsetWidth,a.height=a.offsetHeight,a.addEventListener("mousemove",(function(e){var t=r.getElementsAtEventForMode(e,"nearest",{intersect:!0},!0);if(t.length>0){var s=t[0].parsed.y;a.setAttribute("title","Value: "+s)}})),document.addEventListener("click",(function(e){var t=e.target;if(t.closest(".first-switch .first-item")&&(document.querySelector(".first-content .first-num").innerHTML=t.closest(".first-switch .first-item").querySelector(".first-digit").innerHTML,document.querySelector(".first-inner .title").innerHTML=t.closest(".first-switch .first-item").querySelector(".first-desc").innerHTML),t.classList.contains("success")&&(document.querySelectorAll(".active").forEach((function(e){e.classList.remove("active")})),document.body.style.overflow="auto"),t.closest(".form-target")&&(e.preventDefault(),document.querySelector(".form-popup").classList.add("active"),document.body.style.overflow="hidden"),(t.closest(".form-close")||t.classList.contains("form"))&&(document.querySelector(".form-popup").classList.remove("active"),document.body.style.overflow="auto"),t.closest(".target")){e.preventDefault();var s=document.querySelector(".popup");s.querySelector(".popup-inner").innerHTML=t.closest(".destination").innerHTML,void 0!==t.closest(".destination").dataset.class?s.classList.add(t.closest(".destination").dataset.class):s.classList.contains("expert")&&s.classList.remove("expert"),s.classList.add("active"),document.body.style.overflow="hidden"}if((t.closest(".popup-close")||t.classList.contains("popup"))&&(document.querySelector(".popup").classList.remove("active"),document.body.style.overflow="auto"),e.target.closest(".show .menu-icon")||e.target.classList.contains("show"))return document.querySelector(".menu").classList.remove("show"),document.body.classList.remove("show"),void(document.body.style.overflow="auto");e.target.closest(".menu-icon")&&(document.querySelector(".menu").classList.add("show"),document.body.classList.add("show"),document.body.style.overflow="hidden")}))})),window.addEventListener("load",(function(){document.querySelector("#districts")&&document.querySelector("#districts").contentDocument.addEventListener("click",(function(e){if(e.target.closest(".area")){var t=e.target.closest(".area").dataset.i,s=document.querySelector('.districts-swiper .destination[data-target="'.concat(t,'"]')),o=document.querySelector(".popup");o.querySelector(".popup-inner").innerHTML=s.innerHTML,o.classList.contains("expert")&&o.classList.remove("expert"),o.classList.add("active"),document.body.style.overflow="hidden"}}))}));var e=function(e){e.preventDefault();var t,s,o=e.target,i=new FormData(o),n=Object.fromEntries(i);console.log(n),(t="site/send-form",s=n,new Promise((function(e,o){var i=new XMLHttpRequest;i.open("POST","/".concat(t),!0),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("X-CSRF-Token",document.querySelector('meta[name="csrf-token"]').content),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.onload=function(){i.readyState==XMLHttpRequest.DONE&&200==i.status?e(i.response):(i.status,o(new Error("Request failed: ".concat(i.status))))},i.onerror=function(){console.log(onerror)},i.send(JSON.stringify(s))}))).then((function(e){JSON.parse(e).data.success&&(document.querySelector(".success").classList.add("active"),o.reset())}))}}();