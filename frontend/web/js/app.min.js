!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,s){if(!e)return;if("string"==typeof e)return t(e,s);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,s)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".header"),o=1;function n(){var e=window.scrollY;e>140&&o?(o=0,t.classList.add("scroll"),document.body.classList.add("scr")):e<=100&&!o&&(o=1,t.classList.remove("scroll"),document.body.classList.remove("scr"))}n(),window.addEventListener("scroll",(function(e){n()}));var i=document.querySelector("#form");null==i||i.addEventListener("submit",s);var a=document.querySelector("#forms");null==a||a.addEventListener("submit",s);new Swiper(".photo-swiper",{slidesPerView:"auto",centeredSlides:!0,spaceBetween:35,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{1024:{slidesPerView:3},768:{slidesPerView:2},100:{slidesPerView:1}}}),new Swiper(".districts-swiper",{slidesPerView:3,spaceBetween:35,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".districts-next",prevEl:".districts-prev"},breakpoints:{1024:{slidesPerView:3},768:{slidesPerView:2},300:{slidesPerView:1}}});var c=new Swiper(".projects-swiper",{slidesPerView:3,spaceBetween:35,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".projects-next",prevEl:".projects-prev"},breakpoints:{1024:{slidesPerView:3},768:{slidesPerView:2},300:{slidesPerView:1}}});new Swiper(".experts-swiper",{slidesPerView:3,spaceBetween:35,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".experts-next",prevEl:".experts-prev"},breakpoints:{1024:{slidesPerView:3},768:{slidesPerView:2},300:{slidesPerView:1}}});if(document.querySelector(".opinion")){var l=document.getElementById("chart").getContext("2d"),u=l.createLinearGradient(0,0,0,500);u.addColorStop(0,"rgba(0, 0, 255, 0.9)"),u.addColorStop(.7,"rgba(0, 255, 255, 0.0)");var d=l.createLinearGradient(0,0,0,500);d.addColorStop(0,"rgba(0, 0, 255, 1)"),d.addColorStop(1,"rgba(0, 255, 255, 0.5)");var p=new Chart(l,{type:"line",data:{labels:["2018/1","2018/2","2018/3","2018/4","2019/1","2019/2","2019/3","2019/4","2020/1","2020/2","2020/3","2020/4","2021/1","2021/2","2021/3","2021/4","2022/1","2022/2","2022/3","2022/4","2023/1","2023/2"],datasets:[{data:[200,200,230,220,250,280,280,300,330,370,330,330,350,400,450,450,490,670,700,720,730,750],borderColor:d,borderWidth:.4,pointRadius:.1,pointHoverRadius:.1,fill:!0,backgroundColor:u,pointStyle:!1,tension:.4}]},options:{scales:{y:{ticks:{callback:function(e,t,s){return e+"$"}}}},elements:{point:{radius:0}},hover:{mode:"index",intersect:!1},interaction:{intersect:!1,mode:"index"},plugins:{tooltip:{usePointStyle:!0,callbacks:{label:function(e){return e.parsed.y+"$"}}},title:{display:!1,text:function(e){var t=e.chart.options.interaction,s=t.axis,r=void 0===s?"xy":s,o=t.intersect;return"Mode: "+t.mode+", axis: "+r+", intersect: "+o}},legend:{display:!1},filler:{propagate:!1}},animation:{duration:1e3,easing:"linear"}}}),m=p.canvas;m.width=m.offsetWidth,m.height=m.offsetHeight,m.addEventListener("mousemove",(function(e){var t=p.getElementsAtEventForMode(e,"nearest",{intersect:!0},!0);if(t.length>0){var s=t[0].parsed.y;m.setAttribute("title","Value: "+s)}}))}function f(){clearTimeout(v)}document.querySelector(".first")&&(w(),document.querySelector(".first-switch").addEventListener("mouseenter",(function(){f()})));var v,y=!0,g=0;function w(){var e=y?1e4:5e3;y=!1,v=setTimeout((function(){h(),w()}),e)}function h(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t<0&&0==g?e=g=Object.keys(b).length:(e=g+t,g=(g+t)%Object.keys(b).length),S(e="0"+e)}var b={"01":["Своя недвижимость у моря в премиальном проекте",'отправить вложение в <a href="https://wa.me/+995555932307"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>'],"02":["Владейте частью бренда.<br> Апартаменты в международном отеле<br> Wyndham Hotels & Resorts",'отправить вложение в <a href="https://wa.me/+995555932307"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>',["large"]],"03":["Предложения на 1-й линии моря с доходом 15% годовых  ",'отправить вложение в <a href="https://wa.me/+995555932307"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>',["left"]],"04":["Лучшее место для жизни и отдыха 1-я береговая линия при отеле Radisson Blu",'отправить вложение в <a href="https://wa.me/+995555932307"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>',["left","small","small-text"]],"05":["Премиальная недвижимость с брендовым отелем Novotel",'отправить вложение в <a href="https://wa.me/+995555932307"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>',["left"]],"06":["Центральный проект города!<br> С самой большой инфраструктурой",'отправить вложение в <a href="https://wa.me/+995555932307"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>'],"07":["Готовые загородные апартаменты с повышенным комфортом",'отправить вложение в <a href="https://wa.me/+995555932307"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>'],"08":["Новый проект 2023 года. Узнайте о стоимости и проекте online!",'отправить вложение в <a href="https://wa.me/+995555932307"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>',["left","dark"]]};function S(t){if(clearTimeout(v),w(),document.querySelector(".first-content .first-num").innerHTML=t,document.querySelector(".first-inner .title").innerHTML=b["".concat(t)][0],document.querySelector(".first-inner .lead").innerHTML=b["".concat(t)][1],document.querySelector(".first-content").className="first-content",null!=b["".concat(t)][2]){var s,r=b["".concat(t)][2];(s=document.querySelector(".first-content").classList).add.apply(s,e(r))}var o=Number(t);document.querySelector(".first-bg").innerHTML='\n        <picture>\n            <source srcset="images/index/first/first-'.concat(o,'-480-2x.jpg" media="(max-width: 481px)">\n            <source type="image/jpeg" srcset="images/index/first/first-').concat(o,'-1920-2x.jpg">\n            <img src="images/index/first/first-1920-1600-2x.jpg" alt="">\n        </picture>\n        ')}document.addEventListener("click",(function(e){var t=e.target;t.closest(".first-switch .first-item")&&S(t.closest(".first-switch .first-item").dataset.item);if(t.closest(".first-button-next")&&(f(),h()),t.closest(".first-button-prev")&&(f(),h(-1)),t.closest(".projects .projects-switch a")){e.preventDefault(),document.querySelector(".projects .projects-switch .active").classList.remove("active"),t.closest(".projects-switch a").classList.add("active");var s=t.closest(".projects .projects-switch a").dataset.type;console.log("type",s);var o=document.querySelectorAll('.projects .swiper-slide[data-type~="'.concat(s,'"]'));if(console.log("items",o),"all"==s)return document.querySelector(".projects-swiper").classList.add("all"),void c.update();document.querySelector(".projects-swiper").classList.remove("all"),document.querySelectorAll(".projects .swiper-slide").forEach((function(e){e.classList.remove("show")})),o.forEach((function(e){e.classList.add("show")})),c.update()}if(t.classList.contains("success")&&(document.querySelectorAll(".active").forEach((function(e){e.classList.remove("active")})),document.body.style.overflow="auto"),t.closest(".form-target")&&(e.preventDefault(),document.querySelector(".form-popup").classList.add("active"),document.body.style.overflow="hidden"),(t.closest(".form-close")||t.classList.contains("form"))&&(document.querySelector(".form-popup").classList.remove("active"),document.body.style.overflow="auto"),t.closest(".target")){e.preventDefault();var n=document.querySelector(".popup");n.querySelector(".popup-inner").innerHTML=t.closest(".destination").innerHTML,void 0!==t.closest(".destination").dataset.class?n.classList.add(t.closest(".destination").dataset.class):n.classList.contains("expert")&&n.classList.remove("expert"),n.classList.add("active"),document.body.style.overflow="hidden";var i=1+Number(t.closest(".swiper-slide").dataset.swiperSlideIndex);r("site/gallery",{num:i}).then((function(e){var t,s;null!==(t=JSON.parse(e))&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.success?document.querySelector(".popup").classList.remove("sl"):document.querySelector(".popup").classList.add("sl")})),document.querySelector(".popup").dataset.current=i}t.closest(".popup .card-image")&&r("site/gallery",{num:Number(document.querySelector(".popup").dataset.current)}).then((function(e){var t,s;if(null===(t=JSON.parse(e))||void 0===t||null===(s=t.data)||void 0===s||!s.success){document.querySelector(".popup .popup-inner").innerHTML=JSON.parse(e);new Swiper(".popup-swiper",{slidesPerView:1,spaceBetween:35,autoHeight:!0,loop:!0,observer:!0,navigation:{nextEl:".popup-swiper-button-next",prevEl:".popup-swiper-button-prev"}})}}));return(t.closest(".popup-close")||t.classList.contains("popup"))&&(document.querySelector(".popup").classList.remove("active"),document.body.style.overflow="auto"),t.closest(".show .menu-icon")||t.classList.contains("show")?(document.querySelector(".menu").classList.remove("show"),document.body.classList.remove("show"),void(document.body.style.overflow="auto")):(t.closest(".menu-icon")&&(document.querySelector(".menu").classList.add("show"),document.body.classList.add("show"),document.body.style.overflow="hidden"),t.closest(".dropdown")?(t.closest(".dropdown-options span")&&(document.querySelector(".select span").innerHTML=t.closest(".dropdown-options span").innerHTML),void document.querySelector(".dropdown").classList.toggle("choices")):void document.querySelector(".dropdown").classList.remove("choices"))}))})),window.addEventListener("load",(function(){var e,t,s;(document.querySelector("#map")&&(e={zoom:13,center:new google.maps.LatLng(41.649936,41.6338956),styles:[{featureType:"all",elementType:"geometry",stylers:[{color:"#202c3e"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{gamma:.01},{lightness:20},{weight:"1.39"},{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{weight:"0.96"},{saturation:"9"},{visibility:"on"},{color:"#000000"}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry",stylers:[{lightness:30},{saturation:"9"},{color:"#29446b"}]},{featureType:"poi",elementType:"geometry",stylers:[{saturation:20}]},{featureType:"poi.park",elementType:"geometry",stylers:[{lightness:20},{saturation:-20}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:10},{saturation:-30}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#193a55"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{saturation:25},{lightness:25},{weight:"0.01"}]},{featureType:"water",elementType:"all",stylers:[{lightness:-20}]}]},t=document.querySelector("#maps"),s=new google.maps.Map(t,e),new google.maps.Marker({position:new google.maps.LatLng(41.649936,41.6338956),map:s,title:"DDA Real Estate",loading:"lazy"})),document.querySelector("#districts"))&&document.querySelector("#districts").contentDocument.addEventListener("click",(function(e){if(e.target.closest(".area")){var t=e.target.closest(".area").dataset.i,s=document.querySelector('.districts-swiper .destination[data-target="'.concat(t,'"]')),r=document.querySelector(".popup");r.querySelector(".popup-inner").innerHTML=s.innerHTML,r.classList.contains("expert")&&r.classList.remove("expert"),r.classList.add("active"),document.body.style.overflow="hidden"}}))}));var s=function(e){e.preventDefault();var t=e.target,s=new FormData(t);r("site/send-form",Object.fromEntries(s)).then((function(e){JSON.parse(e).data.success&&(document.querySelector(".success").classList.add("active"),t.reset())}))};function r(e,t){return new Promise((function(s,r){var o=new XMLHttpRequest;o.open("POST","/".concat(e),!0),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("X-CSRF-Token",document.querySelector('meta[name="csrf-token"]').content),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.onload=function(){o.readyState==XMLHttpRequest.DONE&&200==o.status?s(o.response):(o.status,r(new Error("Request failed: ".concat(o.status))))},o.onerror=function(){console.log(onerror)},o.send(JSON.stringify(t))}))}}();