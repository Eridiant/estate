!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".header"),s=1;function i(){var e=window.scrollY;e>140&&s?(s=0,t.classList.add("scroll"),document.body.classList.add("scr")):e<=100&&!s&&(s=1,t.classList.remove("scroll"),document.body.classList.remove("scr"))}i(),window.addEventListener("scroll",(function(e){i()})),document.querySelector("#form").addEventListener("submit",e);new Swiper(".photo-swiper",{slidesPerView:"auto",centeredSlides:!0,spaceBetween:35,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{1024:{slidesPerView:3},768:{slidesPerView:2},100:{slidesPerView:1}}}),new Swiper(".districts-swiper",{slidesPerView:3,spaceBetween:35,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".districts-swiper-button-next",prevEl:".districts-swiper-button-prev"},breakpoints:{1024:{slidesPerView:3},768:{slidesPerView:2},300:{slidesPerView:1}}}),new Swiper(".projects-swiper",{slidesPerView:3,spaceBetween:35,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".projects-swiper-button-next",prevEl:".projects-swiper-button-prev"},breakpoints:{1024:{slidesPerView:3},768:{slidesPerView:2},300:{slidesPerView:1}}}),new Swiper(".experts-swiper",{slidesPerView:3,spaceBetween:35,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".districts-swiper-button-next",prevEl:".districts-swiper-button-prev"},breakpoints:{1024:{slidesPerView:3},768:{slidesPerView:2},300:{slidesPerView:1}}});if(document.querySelector(".opinion")){var o=document.getElementById("chart").getContext("2d"),n=o.createLinearGradient(0,0,0,500);n.addColorStop(0,"rgba(0, 0, 255, 0.9)"),n.addColorStop(.7,"rgba(0, 255, 255, 0.0)");var r=o.createLinearGradient(0,0,0,500);r.addColorStop(0,"rgba(0, 0, 255, 1)"),r.addColorStop(1,"rgba(0, 255, 255, 0.5)");var a=new Chart(o,{type:"line",data:{labels:["2018/1","2018/2","2018/3","2018/4","2019/1","2019/2","2019/3","2019/4","2020/1","2020/2","2020/3","2020/4","2021/1","2021/2","2021/3","2021/4","2022/1","2022/2","2022/3","2022/4","2023/1","2023/2"],datasets:[{data:[200,200,230,220,250,280,280,300,330,370,330,330,350,400,450,450,490,670,700,720,730,750],borderColor:r,borderWidth:.4,pointRadius:.1,pointHoverRadius:.1,fill:!0,backgroundColor:n,pointStyle:!1,tension:.4}]},options:{elements:{point:{radius:0}},hover:{mode:"index",intersect:!1},interaction:{intersect:!1,mode:"index"},plugins:{tooltip:{usePointStyle:!0,callbacks:{label:function(e){return e.parsed.y+"$"}}},title:{display:!1,text:function(e){var t=e.chart.options.interaction,s=t.axis,i=void 0===s?"xy":s,o=t.intersect;return"Mode: "+t.mode+", axis: "+i+", intersect: "+o}},legend:{display:!1},filler:{propagate:!1}},animation:{duration:1e3,easing:"linear"}}}),c=a.canvas;c.width=c.offsetWidth,c.height=c.offsetHeight,c.addEventListener("mousemove",(function(e){var t=a.getElementsAtEventForMode(e,"nearest",{intersect:!0},!0);if(t.length>0){var s=t[0].parsed.y;c.setAttribute("title","Value: "+s)}}))}if(document.querySelector(".first")){var d,l=function e(){var t=v?1e4:5e3;v=!1,d=setTimeout((function(){var t=m+1;u(t="0"+t),m=(m+1)%Object.keys(p).length,e()}),t)},u=function(e){clearTimeout(d),l(),document.querySelector(".first-content .first-num").innerHTML=e,document.querySelector(".first-inner .title").innerHTML=p["".concat(e)][0],document.querySelector(".first-inner .lead").innerHTML=p["".concat(e)][1];var t=Number(e);document.querySelector(".first-bg").innerHTML='\n            <picture>\n                <source srcset="images/index/first/first-'.concat(t,'-480-2x.jpg" media="(max-width: 481px)">\n                <source type="image/jpeg" srcset="images/index/first/first-').concat(t,'-1920-2x.jpg">\n                <img src="images/index/first/first-1920-1600-2x.jpg" alt="">\n            </picture>\n            ')},p={"01":["Своя недвижимость у моря в премиальном проекте",'отправить вложение в <a href="#"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>'],"02":["Владейте частью бренда.Апартаменты в мировом отеле Wyndham Hotels & Resorts",'отправить вложение в <a href="#"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>'],"03":["Предложения на 1-й линии моря с доходом 15% годовых  ",'Консультация с экспертом онлайн <a href="#"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>'],"04":["Лучшее место для жизни и отдыха 1 -я береговая линия при отеле Radisson Blu",'отправить вложение в <a href="#"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>'],"05":["Премиальная недвижимость с брендовым отелем Novotel",'отправить вложение в <a href="#"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>'],"06":["Центральный проект города! С самой большой инфраструктурой",'отправить вложение в <a href="#"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>'],"07":["Готовые загородные апартаменты с повышенным комфортом",'отправить вложение в <a href="#"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>'],"08":["Новый проект 2023 года. Узнайте о стоимости и проекте online!",'отправить вложение в <a href="#"><svg width="20" height="20"><use xlink:href="images/icons.svg#viber"></use></svg></a>']},v=!0,m=0;l()}document.addEventListener("click",(function(e){var t=e.target;if(t.closest(".first-switch .first-item")){var s=t.closest(".first-switch .first-item").dataset.item;changrFirst(s)}if(t.classList.contains("success")&&(document.querySelectorAll(".active").forEach((function(e){e.classList.remove("active")})),document.body.style.overflow="auto"),t.closest(".form-target")&&(e.preventDefault(),document.querySelector(".form-popup").classList.add("active"),document.body.style.overflow="hidden"),(t.closest(".form-close")||t.classList.contains("form"))&&(document.querySelector(".form-popup").classList.remove("active"),document.body.style.overflow="auto"),t.closest(".target")){e.preventDefault();var i=document.querySelector(".popup");i.querySelector(".popup-inner").innerHTML=t.closest(".destination").innerHTML,void 0!==t.closest(".destination").dataset.class?i.classList.add(t.closest(".destination").dataset.class):i.classList.contains("expert")&&i.classList.remove("expert"),i.classList.add("active"),document.body.style.overflow="hidden"}return(t.closest(".popup-close")||t.classList.contains("popup"))&&(document.querySelector(".popup").classList.remove("active"),document.body.style.overflow="auto"),t.closest(".show .menu-icon")||t.classList.contains("show")?(document.querySelector(".menu").classList.remove("show"),document.body.classList.remove("show"),void(document.body.style.overflow="auto")):(t.closest(".menu-icon")&&(document.querySelector(".menu").classList.add("show"),document.body.classList.add("show"),document.body.style.overflow="hidden"),t.closest(".dropdown")?(t.closest(".dropdown-options span")&&(document.querySelector(".select span").innerHTML=t.closest(".dropdown-options span").innerHTML),void document.querySelector(".dropdown").classList.toggle("choices")):void document.querySelector(".dropdown").classList.remove("choices"))}))})),window.addEventListener("load",(function(){document.querySelector("#districts")&&document.querySelector("#districts").contentDocument.addEventListener("click",(function(e){if(e.target.closest(".area")){var t=e.target.closest(".area").dataset.i,s=document.querySelector('.districts-swiper .destination[data-target="'.concat(t,'"]')),i=document.querySelector(".popup");i.querySelector(".popup-inner").innerHTML=s.innerHTML,i.classList.contains("expert")&&i.classList.remove("expert"),i.classList.add("active"),document.body.style.overflow="hidden"}}))}));var e=function(e){e.preventDefault();var t,s,i=e.target,o=new FormData(i),n=Object.fromEntries(o);console.log(n),(t="site/send-form",s=n,new Promise((function(e,i){var o=new XMLHttpRequest;o.open("POST","/".concat(t),!0),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("X-CSRF-Token",document.querySelector('meta[name="csrf-token"]').content),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.onload=function(){o.readyState==XMLHttpRequest.DONE&&200==o.status?e(o.response):(o.status,i(new Error("Request failed: ".concat(o.status))))},o.onerror=function(){console.log(onerror)},o.send(JSON.stringify(s))}))).then((function(e){JSON.parse(e).data.success&&(document.querySelector(".success").classList.add("active"),i.reset())}))}}();